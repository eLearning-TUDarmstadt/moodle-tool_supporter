define(["jquery"],function(r){return{filterEvent:function(s,e,l,t){r(e).change(function(){"#courseTable"===t&&r("#courses_clear_filters").css("visibility","visible");var e,a,i,c=r("input[name="+s+"]:checked"),n=r(t).dataTable();n=n,e=l,a=[],i="",r(c=c).each(function(){var e=r(this).val();i=""===e?"^(?![\\s\\S])":","+(e=e.replace(/[-[\]{}()*+!<=:?./\\^$|#\s,]/g,"\\$&"))+"$|^"+e+",|,"+e+",|^"+e+"$",a.push(i)}),c=a.join("|"),n.fnFilter(c,e,!0,!1,!1,!0)})},searchTable:function(c,n,s,e){var a,i=0;function l(){"#courseTable"===c&&r("#courses_clear_filters").css("visibility","visible");var e=r(c).dataTable(),a=r(s)[0].value,i=r(n)[0].value;"-1"==i?r(c).DataTable().search(a).draw():e.fnFilter(a,i,!0,!0,!1,!0)}e.forEach(function(e){r(n).append(r("<option>",{value:i,text:e.name,hidden:!e.visible||void 0})),i++}),r(s).on("keyup",l),r(n).on("click",function(){a=this.value}),r(n).on("change",function(){r(c).DataTable().column(a).search(""),l()})},coursesClearFilters:function(e){r("#courses_clear_filters").on("click",function(){r(e).DataTable().search("").columns().search("").draw(),r("#course_table_search_input")[0].value="",r("input[name^=courses_level]:checked").prop("checked",!1),r(this).css("visibility","hidden")})}}});