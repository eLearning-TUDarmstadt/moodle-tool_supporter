define(["jquery","tool_supporter/jquery.dataTables","core/str","tool_supporter/table_filter","core/ajax","core/notification","core/templates"],function(a,b,c,d,e,f,g){var h=function(a,b){if("undefined"!=typeof b)for(var c=0;c<b.length;c++)d.filterEvent(b[c][0],b[c][1],b[c][2],a)};return{useDataTable:function(b,d){var f=e.call([{methodname:"tool_supporter_get_settings",args:{}}],!0,!0);f[0].done(function(e){var f=c.get_string("noresults","admin"),g=c.get_string("search","moodle");a.when(f,g).done(function(c,f){var g={retrieve:!0,responsive:!0,lengthChange:!0,language:{info:"",search:f+": ",lengthMenu:"_MENU_",zeroRecords:c},dom:"<'row'<'col-sm-6'><'col-sm-6'f>><'row'<'col-sm-12't>><'row'<'col-sm-4'><'col-sm-3'p><'col-sm-3'><'col-sm-1'l>>",pagingType:"numbers"};"#userincourse"==b&&(g.order=[[0,e.tool_supporter_course_details_order]],g.pageLength=e.tool_supporter_course_details_pagelength,g.lengthMenu=[e.tool_supporter_course_details_pagelength,10,25,50,100]),"#userdetailcourses"==b&&(g.order=[[0,e.tool_supporter_user_details_order]],g.pageLength=e.tool_supporter_user_details_pagelength,g.lengthMenu=[e.tool_supporter_user_details_pagelength,10,25,50,100]),a(b).DataTable(g),h(b,d)})})},dataTableAjax:function(b,d,i,j,k){var l=e.call([{methodname:d,args:i}],!0,!0);l[0].done(function(d){var i=e.call([{methodname:"tool_supporter_get_settings",args:{}}],!0,!0);i[0].done(function(e){var i=c.get_string("noresults","admin"),l=c.get_string("search","moodle");a.when(i,l).done(function(c,i){var l={data:d[j],columns:k,retrieve:!0,responsive:!0,lengthChange:!0,deferRender:!0,language:{info:" ",search:i+": ",lengthMenu:"_MENU_",zeroRecords:c},dom:"<'col-sm-12't><'row'<'col-sm-4'><'col-sm-3'p><'col-sm-3'><'col-sm-1'l>>",paging:!0,pagingType:"numbers",processing:!0,initComplete:function(){a(b+"-loadingIcon").hide(),"#courseTable"==b&&(a("#course_table_filtering").css("visibility","visible"),g.render("tool_supporter/course_table",d).done(function(c){var d=a('[data-region="course_filtering"]',a(c));a('[data-region="course_filtering"]').replaceWith(d[0].outerHTML),h(b,[["courses_levelonecheckbox","#courses_levelonedropdown",3],["courses_leveltwocheckbox","#courses_leveltwodropdown",4]])}).fail(f.exception)),b.includes("#userTable")&&a("#users_dynamic_search").css("visibility","visible")}};"#courseTable"==b&&(l.order=[[0,e.tool_supporter_course_table_order]],l.pageLength=e.tool_supporter_course_table_pagelength,l.lengthMenu=[e.tool_supporter_course_table_pagelength,10,25,50,100]),"#userTable"==b&&(l.order=[[0,e.tool_supporter_user_table_order]],l.pageLength=e.tool_supporter_user_table_pagelength,l.lengthMenu=[e.tool_supporter_user_table_pagelength,10,25,50,100]),a(b).DataTable(l)})})}).fail(f.exception)}}});